!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("ng-zorro-antd/core"),require("ng-zorro-antd/i18n"),require("ng-zorro-antd/icon"),require("ng-zorro-antd/input"),require("ng-zorro-antd/tooltip"),require("rxjs"),require("rxjs/operators"),require("@angular/cdk/platform")):"function"==typeof define&&define.amd?define("ng-zorro-antd/typography",["exports","@angular/common","@angular/core","ng-zorro-antd/core","ng-zorro-antd/i18n","ng-zorro-antd/icon","ng-zorro-antd/input","ng-zorro-antd/tooltip","rxjs","rxjs/operators","@angular/cdk/platform"],e):e(((t=t||self)["ng-zorro-antd"]=t["ng-zorro-antd"]||{},t["ng-zorro-antd"].typography={}),t.ng.common,t.ng.core,t["ng-zorro-antd"].core,t["ng-zorro-antd"].i18n,t["ng-zorro-antd"].icon,t["ng-zorro-antd"].input,t["ng-zorro-antd"].tooltip,t.rxjs,t.rxjs.operators,t.ng.cdk.platform)}(this,function(t,e,n,i,o,s,r,p,a,c,l){"use strict";function d(t,e,n,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(r=(s<3?o(r):s>3?o(e,n,r):o(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var u=function(){function t(t,e,i,o){this.host=t,this.cdr=e,this.copyToClipboard=i,this.i18n=o,this.copied=!1,this.locale={},this.nativeElement=this.host.nativeElement,this.destroy$=new a.Subject,this.textCopy=new n.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;this.i18n.localeChange.pipe(c.takeUntil(this.destroy$)).subscribe(function(){t.locale=t.i18n.getLocaleData("Text"),t.cdr.markForCheck()})},t.prototype.ngOnDestroy=function(){clearTimeout(this.copyId)},t.prototype.onClick=function(){var t=this;if(!this.copied){this.copied=!0,this.cdr.detectChanges();var e=this.text;this.textCopy.emit(e),this.copyToClipboard.copy(e).then(function(){return t.onCopied()})["catch"](function(){return t.onCopied()})}},t.prototype.onCopied=function(){var t=this;clearTimeout(this.copyId),this.copyId=setTimeout(function(){t.copied=!1,t.cdr.detectChanges()},3e3)},t.decorators=[{type:n.Component,args:[{selector:"nz-text-copy",template:'<button\n  nz-tooltip\n  nz-trans-button\n  [nzTitle]="copied ? locale?.copied : locale?.copy"\n  class="ant-typography-copy"\n  [class.ant-typography-copy-success]="copied"\n  (click)="onClick()">\n  <i nz-icon [nzType]="copied ? \'check\' : \'copy\'"></i>\n</button>\n\n',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:i.NzCopyToClipboardService},{type:o.NzI18nService}]},t.propDecorators={text:[{type:n.Input}],textCopy:[{type:n.Output}]},t}(),y=function(){function t(t,e,i){this.host=t,this.cdr=e,this.i18n=i,this.editing=!1,this.locale={},this.destroy$=new a.Subject,this.startEditing=new n.EventEmitter,this.endEditing=new n.EventEmitter,this.nativeElement=this.host.nativeElement}return t.prototype.ngOnInit=function(){var t=this;this.i18n.localeChange.pipe(c.takeUntil(this.destroy$)).subscribe(function(){t.locale=t.i18n.getLocaleData("Text"),t.cdr.markForCheck()})},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.onClick=function(){this.beforeText=this.text,this.currentText=this.beforeText,this.editing=!0,this.startEditing.emit(),this.focusAndSetValue()},t.prototype.confirm=function(){this.editing=!1,this.endEditing.emit(this.currentText)},t.prototype.onInput=function(t){var e=t.target;this.currentText=e.value},t.prototype.onEnter=function(t){t.stopPropagation(),t.preventDefault(),this.confirm()},t.prototype.onCancel=function(){this.currentText=this.beforeText,this.confirm()},t.prototype.focusAndSetValue=function(){var t=this;setTimeout(function(){t.textarea&&t.textarea.nativeElement&&(t.textarea.nativeElement.focus(),t.textarea.nativeElement.value=t.currentText,t.autosizeDirective.resizeToFitContent())})},t.decorators=[{type:n.Component,args:[{selector:"nz-text-edit",template:'<button\n  *ngIf="!editing"\n  [nzTitle]="locale?.edit"\n  nz-tooltip\n  nz-trans-button\n  class="ant-typography-edit"\n  (click)="onClick()">\n  <i nz-icon nzType="edit"></i>\n</button>\n<ng-container *ngIf="editing">\n  <textarea #textarea\n            nz-input\n            nzAutosize\n            (input)="onInput($event)"\n            (blur)="confirm()"\n            (keydown.esc)="onCancel()"\n            (keydown.enter)="onEnter($event)">\n  </textarea>\n  <button nz-trans-button class="ant-typography-edit-content-confirm" (click)="confirm()">\n    <i nz-icon nzType="enter"></i>\n  </button>\n</ng-container>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:o.NzI18nService}]},t.propDecorators={text:[{type:n.Input}],startEditing:[{type:n.Output}],endEditing:[{type:n.Output}],textarea:[{type:n.ViewChild,args:["textarea",{"static":!1}]}],autosizeDirective:[{type:n.ViewChild,args:[r.NzAutosizeDirective,{"static":!1}]}]},t}(),g=function(){function t(t,e,i,o,s,r,p){this.host=t,this.cdr=e,this.viewContainerRef=i,this.renderer=o,this.ngZone=s,this.platform=r,this.i18n=p,this.nzCopyable=!1,this.nzEditable=!1,this.nzDisabled=!1,this.nzExpandable=!1,this.nzEllipsis=!1,this.nzEllipsisRows=1,this.nzContentChange=new n.EventEmitter,this.nzCopy=new n.EventEmitter,this.nzExpandChange=new n.EventEmitter,this.locale={},this.editing=!1,this.cssEllipsis=!1,this.isEllipsis=!1,this.expanded=!1,this.ellipsisStr="...",this.viewInit=!1,this.rfaId=-1,this.destroy$=new a.Subject,this.windowResizeSubscription=a.Subscription.EMPTY}return Object.defineProperty(t.prototype,"canCssEllipsis",{get:function(){return this.nzEllipsis&&this.cssEllipsis&&!this.expanded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyText",{get:function(){return"string"==typeof this.nzCopyText?this.nzCopyText:this.nzContent},enumerable:!0,configurable:!0}),t.prototype.onTextCopy=function(t){this.nzCopy.emit(t)},t.prototype.onStartEditing=function(){this.editing=!0},t.prototype.onEndEditing=function(t){this.editing=!1,this.nzContentChange.emit(t),this.nzContent===t&&this.renderOnNextFrame()},t.prototype.onExpand=function(){this.expanded=!0,this.nzExpandChange.emit()},t.prototype.canUseCSSEllipsis=function(){return!(this.nzEditable||this.nzCopyable||this.nzExpandable)&&(1===this.nzEllipsisRows?i.isStyleSupport("textOverflow"):i.isStyleSupport("webkitLineClamp"))},t.prototype.renderOnNextFrame=function(){var t=this;i.cancelRequestAnimationFrame(this.rfaId),!this.viewInit||!this.nzEllipsis||this.nzEllipsisRows<0||this.expanded||!this.platform.isBrowser||(this.rfaId=i.reqAnimFrame(function(){t.syncEllipsis()}))},t.prototype.getOriginContentViewRef=function(){var t=this,e=this.viewContainerRef.createEmbeddedView(this.contentTemplate,{content:this.nzContent});return e.detectChanges(),{viewRef:e,removeView:function(){t.viewContainerRef.remove(t.viewContainerRef.indexOf(e))}}},t.prototype.syncEllipsis=function(){var t=this;if(!this.cssEllipsis){var e=this.getOriginContentViewRef(),n=e.viewRef,o=e.removeView,s=[this.textCopyRef,this.textEditRef,this.expandableBtn].filter(function(t){return t&&t.nativeElement}).map(function(t){return t.nativeElement}),r=i.measure(this.host.nativeElement,this.nzEllipsisRows,n.rootNodes,s,this.ellipsisStr),p=r.contentNodes,a=r.text,c=r.ellipsis;o(),this.ellipsisText=a,this.isEllipsis=c;for(var l=this.ellipsisContainer.nativeElement;l.firstChild;)this.renderer.removeChild(l,l.firstChild);p.forEach(function(e){t.renderer.appendChild(l,e.cloneNode(!0))}),this.cdr.markForCheck()}},t.prototype.renderAndSubscribeWindowResize=function(){var t=this;this.platform.isBrowser&&(this.windowResizeSubscription.unsubscribe(),this.cssEllipsis=this.canUseCSSEllipsis(),this.renderOnNextFrame(),this.ngZone.runOutsideAngular(function(){t.windowResizeSubscription=a.fromEvent(window,"resize").pipe(c.auditTime(16),c.takeUntil(t.destroy$)).subscribe(function(){return t.renderOnNextFrame()})}))},t.prototype.ngOnInit=function(){var t=this;this.i18n.localeChange.pipe(c.takeUntil(this.destroy$)).subscribe(function(){t.locale=t.i18n.getLocaleData("Text"),t.cdr.markForCheck()})},t.prototype.ngAfterViewInit=function(){this.viewInit=!0,this.renderAndSubscribeWindowResize()},t.prototype.ngOnChanges=function(t){var e=t.nzCopyable,n=t.nzEditable,i=t.nzExpandable,o=t.nzEllipsis,s=t.nzContent,r=t.nzEllipsisRows;(e||n||i||o||s||r)&&this.nzEllipsis&&(this.expanded?this.windowResizeSubscription.unsubscribe():this.renderAndSubscribeWindowResize())},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete(),this.windowResizeSubscription.unsubscribe()},t.decorators=[{type:n.Component,args:[{selector:"\n  nz-typography,\n  [nz-typography],\n  p[nz-paragraph],\n  span[nz-text],\n  h1[nz-title], h2[nz-title], h3[nz-title], h4[nz-title]\n  ",template:'<ng-template #contentTemplate let-content="content">\n  <ng-content *ngIf="!content"></ng-content>\n  {{content}}\n</ng-template>\n\n<ng-container *ngIf="!editing">\n  <ng-container *ngIf="expanded || (!nzExpandable && nzEllipsisRows === 1) || canCssEllipsis">\n    <ng-template [ngTemplateOutlet]="contentTemplate" [ngTemplateOutletContext]="{ content: nzContent}"></ng-template>\n  </ng-container>\n  <ng-container *ngIf="nzEllipsis && !expanded && (nzEllipsisRows > 1 || nzExpandable)">\n    <span #ellipsisContainer></span>\n    <ng-container *ngIf="isEllipsis">{{ellipsisStr}}</ng-container>\n    <a #expandable *ngIf="nzExpandable && isEllipsis" class="ant-typography-expand" (click)="onExpand()">{{locale?.expand}}</a>\n  </ng-container>\n</ng-container>\n\n<nz-text-edit\n  *ngIf="nzEditable"\n  [text]="nzContent"\n  (endEditing)="onEndEditing($event)"\n  (startEditing)="onStartEditing()">\n</nz-text-edit>\n\n<nz-text-copy *ngIf="nzCopyable && !editing" [text]="copyText" (textCopy)="onTextCopy($event)"></nz-text-copy>\n\n',changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,preserveWhitespaces:!1,host:{"[class.ant-typography]":"!editing","[class.ant-typography-edit-content]":"editing","[class.ant-typography-secondary]":'nzType === "secondary"',"[class.ant-typography-warning]":'nzType === "warning"',"[class.ant-typography-danger]":'nzType === "danger"',"[class.ant-typography-disabled]":"nzDisabled","[class.ant-typography-ellipsis]":"nzEllipsis && !expanded","[class.ant-typography-ellipsis-single-line]":"canCssEllipsis && nzEllipsisRows === 1","[class.ant-typography-ellipsis-multiple-line]":"canCssEllipsis && nzEllipsisRows > 1","[style.-webkit-line-clamp]":"(canCssEllipsis && nzEllipsisRows > 1) ? nzEllipsisRows : null"}}]}],t.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef},{type:n.ViewContainerRef},{type:n.Renderer2},{type:n.NgZone},{type:l.Platform},{type:o.NzI18nService}]},t.propDecorators={nzCopyable:[{type:n.Input}],nzEditable:[{type:n.Input}],nzDisabled:[{type:n.Input}],nzExpandable:[{type:n.Input}],nzEllipsis:[{type:n.Input}],nzContent:[{type:n.Input}],nzEllipsisRows:[{type:n.Input}],nzType:[{type:n.Input}],nzCopyText:[{type:n.Input}],nzContentChange:[{type:n.Output}],nzCopy:[{type:n.Output}],nzExpandChange:[{type:n.Output}],textEditRef:[{type:n.ViewChild,args:[y,{"static":!1}]}],textCopyRef:[{type:n.ViewChild,args:[u,{"static":!1}]}],ellipsisContainer:[{type:n.ViewChild,args:["ellipsisContainer",{"static":!1}]}],expandableBtn:[{type:n.ViewChild,args:["expandable",{"static":!1}]}],contentTemplate:[{type:n.ViewChild,args:["contentTemplate",{"static":!1}]}]},d([i.InputBoolean(),h("design:type",Object)],t.prototype,"nzCopyable",void 0),d([i.InputBoolean(),h("design:type",Object)],t.prototype,"nzEditable",void 0),d([i.InputBoolean(),h("design:type",Object)],t.prototype,"nzDisabled",void 0),d([i.InputBoolean(),h("design:type",Object)],t.prototype,"nzExpandable",void 0),d([i.InputBoolean(),h("design:type",Object)],t.prototype,"nzEllipsis",void 0),t}(),f=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,s.NzIconModule,p.NzToolTipModule,r.NzInputModule,o.NzI18nModule,i.NzTransButtonModule],exports:[g,u,y],declarations:[g,u,y]}]}],t}();t.NzTextCopyComponent=u,t.NzTextEditComponent=y,t.NzTypographyComponent=g,t.NzTypographyModule=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-typography.umd.min.js.map