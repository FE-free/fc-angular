!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/overlay"),require("@angular/core"),require("rxjs"),require("ng-zorro-antd/core"),require("@angular/common"),require("ng-zorro-antd/icon")):"function"==typeof define&&define.amd?define("ng-zorro-antd/message",["exports","@angular/cdk/overlay","@angular/core","rxjs","ng-zorro-antd/core","@angular/common","ng-zorro-antd/icon"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].message={}),e.ng.cdk.overlay,e.ng.core,e.rxjs,e["ng-zorro-antd"].core,e.ng.common,e["ng-zorro-antd"].icon)}(this,function(e,t,n,o,s,r,i){"use strict";var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},p=new n.InjectionToken("NZ_MESSAGE_DEFAULT_CONFIG"),u=new n.InjectionToken("NZ_MESSAGE_CONFIG"),g={provide:p,useValue:{nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24}},h=function(){function e(e,t,n){this.cdr=e,this.messages=[],this.setConfig(c({},t,n))}return e.prototype.setConfig=function(e){this.config=c({},this.config,e),this.top=s.toCssPixel(this.config.nzTop),this.cdr.markForCheck()},e.prototype.createMessage=function(e){this.messages.length>=this.config.nzMaxStack&&this.messages.splice(0,1),e.options=this._mergeMessageOptions(e.options),e.onClose=new o.Subject,this.messages.push(e),this.cdr.detectChanges()},e.prototype.removeMessage=function(e,t){var n=this;void 0===t&&(t=!1),this.messages.some(function(o,s){return o.messageId===e&&(n.messages.splice(s,1),n.cdr.detectChanges(),o.onClose.next(t),o.onClose.complete(),!0)})},e.prototype.removeMessageAll=function(){this.messages=[],this.cdr.detectChanges()},e.prototype._mergeMessageOptions=function(e){var t={nzDuration:this.config.nzDuration,nzAnimate:this.config.nzAnimate,nzPauseOnHover:this.config.nzPauseOnHover};return c({},t,e)},e.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message-container",exportAs:"nzMessageContainer",preserveWhitespaces:!1,template:'<div class="ant-message" [style.top]="top">\n  <nz-message *ngFor="let message of messages; let i = index" [nzMessage]="message" [nzIndex]="i"></nz-message>\n</div>'}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[p]}]},{type:undefined,decorators:[{type:n.Optional},{type:n.Inject,args:[u]}]}]},e}(),l=0,f=function(){function e(e,t,n,o,s,r){void 0===r&&(r=""),this.overlay=e,this.containerClass=t,this.injector=n,this.cfr=o,this.appRef=s,this._idPrefix=r,this._container=this.createContainer()}return e.prototype.remove=function(e){e?this._container.removeMessage(e):this._container.removeMessageAll()},e.prototype.createMessage=function(e,t){var n=c({},e,{createdAt:new Date,messageId:this._generateMessageId(),options:t});return this._container.createMessage(n),n},e.prototype.config=function(e){this._container.setConfig(e)},e.prototype._generateMessageId=function(){return this._idPrefix+l++},e.prototype.createContainer=function(){var e=this.cfr.resolveComponentFactory(this.containerClass).create(this.injector);e.changeDetectorRef.detectChanges(),this.appRef.attachView(e.hostView);var t=this.overlay.create().overlayElement;return t.style.zIndex="1010",t.appendChild(e.hostView.rootNodes[0]),e.instance},e}(),m=function(e){function o(t,n,o,s){return e.call(this,t,h,n,o,s,"message-")||this}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(o,e),o.prototype.success=function(e,t){return this.createMessage({type:"success",content:e},t)},o.prototype.error=function(e,t){return this.createMessage({type:"error",content:e},t)},o.prototype.info=function(e,t){return this.createMessage({type:"info",content:e},t)},o.prototype.warning=function(e,t){return this.createMessage({type:"warning",content:e},t)},o.prototype.loading=function(e,t){return this.createMessage({type:"loading",content:e},t)},o.prototype.create=function(e,t,n){return this.createMessage({type:e,content:t},n)},o.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[{type:t.Overlay},{type:n.Injector},{type:n.ComponentFactoryResolver},{type:n.ApplicationRef}]},o.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new o(n.ɵɵinject(t.Overlay),n.ɵɵinject(n.INJECTOR),n.ɵɵinject(n.ComponentFactoryResolver),n.ɵɵinject(n.ApplicationRef))},token:o,providedIn:"root"}),o}(f),d=function(){function e(e,t){this._messageContainer=e,this.cdr=t,this._eraseTimer=null}return e.prototype.ngOnInit=function(){this._options=this.nzMessage.options,this._options.nzAnimate&&(this.nzMessage.state="enter"),this._autoErase=this._options.nzDuration>0,this._autoErase&&(this._initErase(),this._startEraseTimeout())},e.prototype.ngOnDestroy=function(){this._autoErase&&this._clearEraseTimeout()},e.prototype.onEnter=function(){this._autoErase&&this._options.nzPauseOnHover&&(this._clearEraseTimeout(),this._updateTTL())},e.prototype.onLeave=function(){this._autoErase&&this._options.nzPauseOnHover&&this._startEraseTimeout()},e.prototype._destroy=function(e){var t=this;void 0===e&&(e=!1),this._options.nzAnimate?(this.nzMessage.state="leave",this.cdr.detectChanges(),setTimeout(function(){return t._messageContainer.removeMessage(t.nzMessage.messageId,e)},200)):this._messageContainer.removeMessage(this.nzMessage.messageId,e)},e.prototype._initErase=function(){this._eraseTTL=this._options.nzDuration,this._eraseTimingStart=Date.now()},e.prototype._updateTTL=function(){this._autoErase&&(this._eraseTTL-=Date.now()-this._eraseTimingStart)},e.prototype._startEraseTimeout=function(){var e=this;this._eraseTTL>0?(this._clearEraseTimeout(),this._eraseTimer=setTimeout(function(){return e._destroy()},this._eraseTTL),this._eraseTimingStart=Date.now()):this._destroy()},e.prototype._clearEraseTimeout=function(){null!==this._eraseTimer&&(clearTimeout(this._eraseTimer),this._eraseTimer=null)},e.decorators=[{type:n.Component,args:[{changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,selector:"nz-message",exportAs:"nzMessage",preserveWhitespaces:!1,animations:[s.moveUpMotion],template:'<div class="ant-message-notice"\n  [@moveUpMotion]="nzMessage.state"\n  (mouseenter)="onEnter()"\n  (mouseleave)="onLeave()">\n  <div class="ant-message-notice-content">\n    <div class="ant-message-custom-content" [ngClass]="\'ant-message-\' + nzMessage.type">\n      <ng-container [ngSwitch]="nzMessage.type">\n        <i *ngSwitchCase="\'success\'" nz-icon nzType="check-circle"></i>\n        <i *ngSwitchCase="\'info\'"  nz-icon nzType="info-circle"></i>\n        <i *ngSwitchCase="\'warning\'" nz-icon nzType="exclamation-circle"></i>\n        <i *ngSwitchCase="\'error\'" nz-icon nzType="close-circle"></i>\n        <i *ngSwitchCase="\'loading\'" nz-icon nzType="loading"></i>\n      </ng-container>\n      <ng-container *nzStringTemplateOutlet="nzMessage.content">\n        <span [innerHTML]="nzMessage.content"></span>\n      </ng-container>\n    </div>\n  </div>\n</div>\n'}]}],e.ctorParameters=function(){return[{type:h},{type:n.ChangeDetectorRef}]},e.propDecorators={nzMessage:[{type:n.Input}],nzIndex:[{type:n.Input}]},e}(),y=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[r.CommonModule,t.OverlayModule,i.NzIconModule,s.NzAddOnModule],declarations:[h,d],providers:[g],entryComponents:[h]}]}],e}();e.NZ_MESSAGE_CONFIG=u,e.NZ_MESSAGE_DEFAULT_CONFIG=p,e.NZ_MESSAGE_DEFAULT_CONFIG_PROVIDER=g,e.NzMessageBaseService=f,e.NzMessageComponent=d,e.NzMessageContainerComponent=h,e.NzMessageModule=y,e.NzMessageService=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-message.umd.min.js.map