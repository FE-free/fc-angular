!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/cdk/overlay"),require("@angular/core"),require("rxjs"),require("ng-zorro-antd/core"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-zorro-antd/tooltip",["exports","@angular/cdk/overlay","@angular/core","rxjs","ng-zorro-antd/core","rxjs/operators","@angular/common"],t):t(((e=e||self)["ng-zorro-antd"]=e["ng-zorro-antd"]||{},e["ng-zorro-antd"].tooltip={}),e.ng.cdk.overlay,e.ng.core,e.rxjs,e["ng-zorro-antd"].core,e.rxjs.operators,e.ng.common)}(this,function(e,t,n,i,o,r,s){"use strict";function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var p=function(){function e(e,t){this.cdr=e,this.noAnimation=t,this._hasBackdrop=!1,this._prefix="ant-tooltip-placement",this._positions=l(o.DEFAULT_TOOLTIP_POSITIONS),this._classMap={},this._placement="top",this._trigger="hover",this.visibleSource=new i.BehaviorSubject(!1),this.visible$=this.visibleSource.asObservable(),this.nzOverlayClassName="",this.nzOverlayStyle={},this.nzMouseEnterDelay=.15,this.nzMouseLeaveDelay=.1,this.nzVisibleChange=new n.EventEmitter}return Object.defineProperty(e.prototype,"nzVisible",{get:function(){return this.visibleSource.value},set:function(e){var t=o.toBoolean(e);this.visibleSource.value!==t&&(this.visibleSource.next(t),this.nzVisibleChange.emit(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzTrigger",{get:function(){return this._trigger},set:function(e){this._trigger=e,this._hasBackdrop="click"===this._trigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nzPlacement",{get:function(){return this._placement},set:function(e){e!==this._placement&&(this._placement=e,this._positions=l([o.POSITION_MAP[this.nzPlacement]],this._positions))},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(){var e=this;Promise.resolve().then(function(){e.updatePosition()})},e.prototype.updatePosition=function(){this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()},e.prototype.onPositionChange=function(e){this.nzPlacement=o.getPlacementName(e),this.setClassMap(),this.cdr.detectChanges()},e.prototype.show=function(){this.isContentEmpty()||(this.nzVisible=!0)},e.prototype.hide=function(){this.nzVisible=!1},e.prototype._afterVisibilityAnimation=function(e){"false"!==e.toState||this.nzVisible||this.nzVisibleChange.emit(!1),"true"===e.toState&&this.nzVisible&&this.nzVisibleChange.emit(!0)},e.prototype.setClassMap=function(){var e;this._classMap=((e={})[this.nzOverlayClassName]=!0,e[this._prefix+"-"+this._placement]=!0,e)},e.prototype.setOverlayOrigin=function(e){this.overlayOrigin=e},e.prototype.isContentEmpty=function(){return!(this.nzTitle instanceof n.TemplateRef)&&(""===this.nzTitle||!o.isNotNil(this.nzTitle))},e.decorators=[{type:n.Component,args:[{selector:"nz-tooltip",exportAs:"nzTooltipComponent",changeDetection:n.ChangeDetectionStrategy.OnPush,encapsulation:n.ViewEncapsulation.None,animations:[o.zoomBigMotion],template:'<ng-content></ng-content>\n<ng-template\n  #overlay="cdkConnectedOverlay"\n  cdkConnectedOverlay\n  nzConnectedOverlay\n  [cdkConnectedOverlayOrigin]="overlayOrigin"\n  [cdkConnectedOverlayOpen]="visible$ | async"\n  [cdkConnectedOverlayHasBackdrop]="_hasBackdrop"\n  [cdkConnectedOverlayPositions]="_positions"\n  (backdropClick)="hide()"\n  (detach)="hide()"\n  (positionChange)="onPositionChange($event)">\n  <div\n    class="ant-tooltip"\n    [ngClass]="_classMap"\n    [ngStyle]="nzOverlayStyle"\n    [nzNoAnimation]="noAnimation?.nzNoAnimation"\n    [@zoomBigMotion]="\'active\'"\n    (@zoomBigMotion.done)="_afterVisibilityAnimation($event)">\n    <div class="ant-tooltip-content">\n      <div class="ant-tooltip-arrow"></div>\n      <div class="ant-tooltip-inner">\n        <ng-container *nzStringTemplateOutlet="nzTitle">{{ nzTitle }}</ng-container>\n      </div>\n    </div>\n  </div>\n</ng-template>',preserveWhitespaces:!1,styles:["\n      .ant-tooltip {\n        position: relative;\n      }\n    "]}]}],e.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:o.NzNoAnimationDirective,decorators:[{type:n.Host},{type:n.Optional}]}]},e.propDecorators={overlay:[{type:n.ViewChild,args:["overlay",{"static":!1}]}],nzTitle:[{type:n.Input},{type:n.ContentChild,args:["nzTemplate",{"static":!0}]}],nzOverlayClassName:[{type:n.Input}],nzOverlayStyle:[{type:n.Input}],nzMouseEnterDelay:[{type:n.Input}],nzMouseLeaveDelay:[{type:n.Input}],nzVisible:[{type:n.Input}],nzTrigger:[{type:n.Input}],nzPlacement:[{type:n.Input}],nzVisibleChange:[{type:n.Output}]},e}(),c=function(){function e(e,t,o,r,s,a){this.elementRef=e,this.hostView=t,this.resolver=o,this.renderer=r,this.tooltip=s,this.noAnimation=a,this.isTooltipOpen=!1,this.isDynamicTooltip=!1,this.factory=this.resolver.resolveComponentFactory(p),this.needProxyProperties=["nzTitle","nzContent","nzOverlayClassName","nzOverlayStyle","nzMouseEnterDelay","nzMouseLeaveDelay","nzVisible","nzTrigger","nzPlacement"],this.subs_=new i.Subscription,this.listeners=[],this.nzVisibleChange=new n.EventEmitter}return Object.defineProperty(e.prototype,"setTitle",{set:function(e){this.nzTitle=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){this.updateProxies(e)},e.prototype.ngOnInit=function(){var e=this;if(!this.tooltip){var t=this.hostView.createComponent(this.factory);this.tooltip=t.instance,this.tooltip.noAnimation=this.noAnimation,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.isDynamicTooltip=!0,this.needProxyProperties.forEach(function(t){return e.updateCompValue(t,e[t])});var n=this.tooltip.nzVisibleChange.pipe(r.distinctUntilChanged()).subscribe(function(t){e.visible=t,e.nzVisibleChange.emit(t)});this.subs_.add(n)}this.tooltip.setOverlayOrigin(this)},e.prototype.ngAfterViewInit=function(){var e=this;if("hover"===this.tooltip.nzTrigger){var t,n=this.renderer.listen(this.elementRef.nativeElement,"mouseenter",function(){return e.delayEnterLeave(!0,!0,e.tooltip.nzMouseEnterDelay)});this.listeners.push(n);var i=this.renderer.listen(this.elementRef.nativeElement,"mouseleave",function(){if(e.delayEnterLeave(!0,!1,e.tooltip.nzMouseLeaveDelay),e.tooltip.overlay.overlayRef&&!t){t=e.tooltip.overlay.overlayRef.overlayElement;var n=e.renderer.listen(t,"mouseenter",function(){return e.delayEnterLeave(!1,!0)});e.listeners.push(n);var i=e.renderer.listen(t,"mouseleave",function(){return e.delayEnterLeave(!1,!1)});e.listeners.push(i)}});this.listeners.push(i)}else if("focus"===this.tooltip.nzTrigger){var o=this.renderer.listen(this.elementRef.nativeElement,"focus",function(){return e.show()});this.listeners.push(o);var r=this.renderer.listen(this.elementRef.nativeElement,"blur",function(){return e.hide()});this.listeners.push(r)}else if("click"===this.tooltip.nzTrigger){var s=this.renderer.listen(this.elementRef.nativeElement,"click",function(t){t.preventDefault(),e.show()});this.listeners.push(s)}},e.prototype.ngOnDestroy=function(){this.subs_.unsubscribe(),this.listeners.forEach(function(e){e()})},e.prototype.updateCompValue=function(e,t){var n=this;this.isDynamicTooltip&&o.isNotNil(t)&&(this.tooltip[e]=t,this.tooltip.setClassMap(),Promise.resolve().then(function(){n.tooltip.updatePosition()}))},e.prototype.show=function(){this.tooltip.show(),this.isTooltipOpen=!0},e.prototype.hide=function(){this.tooltip.hide(),this.isTooltipOpen=!1},e.prototype.delayEnterLeave=function(e,t,n){var i=this;void 0===n&&(n=-1),this.delayTimer?(clearTimeout(this.delayTimer),this.delayTimer=null):n>0?this.delayTimer=setTimeout(function(){i.delayTimer=null,t?i.show():i.hide()},1e3*n):t&&e?this.show():this.hide()},e.prototype.updateProxies=function(e){var t=this;this.tooltip&&(Object.keys(e).forEach(function(n){var i=e[n];i&&t.updateCompValue(n,i.currentValue)}),e.setTitle&&(this.nzTitle=e.setTitle.currentValue,this.updateCompValue("nzTitle",e.setTitle.currentValue)),this.tooltip.cdr.markForCheck())},e.decorators=[{type:n.Directive,args:[{selector:"[nz-tooltip]",exportAs:"nzTooltip",host:{"[class.ant-tooltip-open]":"isTooltipOpen"}}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ViewContainerRef},{type:n.ComponentFactoryResolver},{type:n.Renderer2},{type:p,decorators:[{type:n.Optional}]},{type:o.NzNoAnimationDirective,decorators:[{type:n.Host},{type:n.Optional}]}]},e.propDecorators={nzVisibleChange:[{type:n.Output}],nzTitle:[{type:n.Input,args:["nz-tooltip"]}],setTitle:[{type:n.Input,args:["nzTitle"]}],nzContent:[{type:n.Input}],nzMouseEnterDelay:[{type:n.Input}],nzMouseLeaveDelay:[{type:n.Input}],nzOverlayClassName:[{type:n.Input}],nzOverlayStyle:[{type:n.Input}],nzTrigger:[{type:n.Input}],nzVisible:[{type:n.Input}],nzPlacement:[{type:n.Input}]},e}(),u=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{declarations:[p,c],exports:[p,c],imports:[s.CommonModule,t.OverlayModule,o.NzAddOnModule,o.NzOverlayModule,o.NzNoAnimationModule],entryComponents:[p]}]}],e}();e.NzToolTipComponent=p,e.NzToolTipModule=u,e.NzTooltipDirective=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-zorro-antd-tooltip.umd.min.js.map