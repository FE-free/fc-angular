{"version":3,"sources":["ng://ng-zorro-antd/steps/nz-step.component.ts","ng://ng-zorro-antd/steps/nz-steps.component.ts","ng://ng-zorro-antd/steps/nz-steps.module.ts"],"names":["NzStepComponent","cdr","renderer","elementRef","this","isCustomStatus","_status","oldAPIIcon","isIconString","direction","index","last","outStatus","showProcessDot","_currentIndex","addClass","nativeElement","Object","defineProperty","prototype","status","_icon","value","TemplateRef","indexOf","current","markForCheck","Component","args","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","selector","exportAs","preserveWhitespaces","template","host","[class.ant-steps-item-wait]","[class.ant-steps-item-process]","[class.ant-steps-item-finish]","[class.ant-steps-item-error]","[class.ant-steps-custom]","[class.ant-steps-next-error]","ChangeDetectorRef","Renderer2","ElementRef","ViewChild","static","Input","NzStepsComponent","nzCurrent","nzDirection","nzLabelPlacement","nzSize","nzStartIndex","nzStatus","destroy$","Subject","customProcessDotTemplate","toBoolean","updateChildrenSteps","ngOnChanges","changes","nzProgressDot","setClassMap","ngOnInit","ngOnDestroy","next","complete","ngAfterContentInit","_this","steps","pipe","takeUntil","subscribe","length_1","length","toArray","forEach","step","Promise","resolve","then","customProcessTemplate","currentIndex","classMap","_a","ContentChildren","NzStepsModule","NgModule","imports","CommonModule","NzIconModule","NzAddOnModule","exports","declarations"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { NgClassType } from 'ng-zorro-antd/core';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-step',\n  exportAs: 'nzStep',\n  preserveWhitespaces: false,\n  templateUrl: './nz-step.component.html',\n  host: {\n    '[class.ant-steps-item-wait]': 'nzStatus === \"wait\"',\n    '[class.ant-steps-item-process]': 'nzStatus === \"process\"',\n    '[class.ant-steps-item-finish]': 'nzStatus === \"finish\"',\n    '[class.ant-steps-item-error]': 'nzStatus === \"error\"',\n    '[class.ant-steps-custom]': '!!nzIcon',\n    '[class.ant-steps-next-error]': '(outStatus === \"error\") && (currentIndex === index + 1)'\n  }\n})\nexport class NzStepComponent {\n  @ViewChild('processDotTemplate', { static: false }) processDotTemplate: TemplateRef<void>;\n\n  @Input() nzTitle: string | TemplateRef<void>;\n  @Input() nzDescription: string | TemplateRef<void>;\n\n  @Input()\n  get nzStatus(): string {\n    return this._status;\n  }\n\n  set nzStatus(status: string) {\n    this._status = status;\n    this.isCustomStatus = true;\n  }\n\n  isCustomStatus = false;\n  private _status = 'wait';\n\n  @Input()\n  get nzIcon(): NgClassType | TemplateRef<void> {\n    return this._icon;\n  }\n\n  set nzIcon(value: NgClassType | TemplateRef<void>) {\n    if (!(value instanceof TemplateRef)) {\n      this.isIconString = true;\n      this.oldAPIIcon = typeof value === 'string' && value.indexOf('anticon') > -1;\n    } else {\n      this.isIconString = false;\n    }\n    this._icon = value;\n  }\n\n  oldAPIIcon = true;\n  isIconString = true;\n  private _icon: NgClassType | TemplateRef<void>;\n\n  customProcessTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>; // Set by parent.\n  direction = 'horizontal';\n  index = 0;\n  last = false;\n  outStatus = 'process';\n  showProcessDot = false;\n\n  get currentIndex(): number {\n    return this._currentIndex;\n  }\n\n  set currentIndex(current: number) {\n    this._currentIndex = current;\n    if (!this.isCustomStatus) {\n      this._status = current > this.index ? 'finish' : current === this.index ? this.outStatus || '' : 'wait';\n    }\n  }\n\n  private _currentIndex = 0;\n\n  constructor(private cdr: ChangeDetectorRef, renderer: Renderer2, elementRef: ElementRef) {\n    renderer.addClass(elementRef.nativeElement, 'ant-steps-item');\n  }\n\n  markForCheck(): void {\n    this.cdr.markForCheck();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  SimpleChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { toBoolean, NgClassType, NzSizeDSType } from 'ng-zorro-antd/core';\n\nimport { NzStepComponent } from './nz-step.component';\n\nexport type NzDirectionType = 'horizontal' | 'vertical';\nexport type NzStatusType = 'wait' | 'process' | 'finish' | 'error';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  selector: 'nz-steps',\n  exportAs: 'nzSteps',\n  templateUrl: './nz-steps.component.html'\n})\nexport class NzStepsComponent implements OnChanges, OnInit, OnDestroy, AfterContentInit {\n  @ContentChildren(NzStepComponent) steps: QueryList<NzStepComponent>;\n\n  @Input() nzCurrent = 0;\n  @Input() nzDirection: NzDirectionType = 'horizontal';\n  @Input() nzLabelPlacement: 'horizontal' | 'vertical' = 'horizontal';\n  @Input() nzSize: NzSizeDSType = 'default';\n  @Input() nzStartIndex = 0;\n  @Input() nzStatus: NzStatusType = 'process';\n\n  @Input()\n  set nzProgressDot(value: boolean | TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>) {\n    if (value instanceof TemplateRef) {\n      this.showProcessDot = true;\n      this.customProcessDotTemplate = value;\n    } else {\n      this.showProcessDot = toBoolean(value);\n    }\n    this.updateChildrenSteps();\n  }\n  showProcessDot = false;\n  customProcessDotTemplate: TemplateRef<{ $implicit: TemplateRef<void>; status: string; index: number }>;\n\n  classMap: NgClassType;\n\n  private destroy$ = new Subject<void>();\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzStartIndex || changes.nzDirection || changes.nzStatus || changes.nzCurrent) {\n      this.updateChildrenSteps();\n    }\n    if (changes.nzDirection || changes.nzProgressDot || changes.nzLabelPlacement || changes.nzSize) {\n      this.setClassMap();\n    }\n  }\n\n  ngOnInit(): void {\n    this.setClassMap();\n    this.updateChildrenSteps();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngAfterContentInit(): void {\n    this.updateChildrenSteps();\n    if (this.steps) {\n      this.steps.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\n        this.updateChildrenSteps();\n      });\n    }\n  }\n\n  private updateChildrenSteps(): void {\n    if (this.steps) {\n      const length = this.steps.length;\n      this.steps.toArray().forEach((step, index) => {\n        Promise.resolve().then(() => {\n          step.outStatus = this.nzStatus;\n          step.showProcessDot = this.showProcessDot;\n          if (this.customProcessDotTemplate) {\n            step.customProcessTemplate = this.customProcessDotTemplate;\n          }\n          step.direction = this.nzDirection;\n          step.index = index + this.nzStartIndex;\n          step.currentIndex = this.nzCurrent;\n          step.last = length === index + 1;\n          step.markForCheck();\n        });\n      });\n    }\n  }\n\n  private setClassMap(): void {\n    this.classMap = {\n      [`ant-steps-${this.nzDirection}`]: true,\n      [`ant-steps-label-horizontal`]: this.nzDirection === 'horizontal',\n      [`ant-steps-label-vertical`]:\n        (this.showProcessDot || this.nzLabelPlacement === 'vertical') && this.nzDirection === 'horizontal',\n      [`ant-steps-dot`]: this.showProcessDot,\n      ['ant-steps-small']: this.nzSize === 'small'\n    };\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n\nimport { NzStepComponent } from './nz-step.component';\nimport { NzStepsComponent } from './nz-steps.component';\n\n@NgModule({\n  imports: [CommonModule, NzIconModule, NzAddOnModule],\n  exports: [NzStepsComponent, NzStepComponent],\n  declarations: [NzStepsComponent, NzStepComponent]\n})\nexport class NzStepsModule {}\n"]}