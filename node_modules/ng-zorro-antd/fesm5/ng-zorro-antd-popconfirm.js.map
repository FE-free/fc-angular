{"version":3,"file":"ng-zorro-antd-popconfirm.js","sources":["ng://ng-zorro-antd/popconfirm/nz-popconfirm.component.ts","ng://ng-zorro-antd/popconfirm/nz-popconfirm.directive.ts","ng://ng-zorro-antd/popconfirm/nz-popconfirm.module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Host,\n  Input,\n  Optional,\n  Output,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { zoomBigMotion, InputBoolean, NzNoAnimationDirective } from 'ng-zorro-antd/core';\nimport { NzToolTipComponent } from 'ng-zorro-antd/tooltip';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-popconfirm',\n  exportAs: 'nzPopconfirmComponent',\n  preserveWhitespaces: false,\n  animations: [zoomBigMotion],\n  templateUrl: './nz-popconfirm.component.html',\n  styles: [\n    `\n      .ant-popover {\n        position: relative;\n      }\n    `\n  ]\n})\nexport class NzPopconfirmComponent extends NzToolTipComponent {\n  _prefix = 'ant-popover-placement';\n  _trigger = 'click';\n  _hasBackdrop = true;\n\n  @Input() nzOkText: string;\n  @Input() nzOkType: string = 'primary';\n  @Input() nzCancelText: string;\n  @Input() @InputBoolean() nzCondition = false;\n  @Input() nzIcon: string | TemplateRef<void>;\n\n  @Output() readonly nzOnCancel: EventEmitter<void> = new EventEmitter();\n  @Output() readonly nzOnConfirm: EventEmitter<void> = new EventEmitter();\n\n  constructor(cdr: ChangeDetectorRef, @Host() @Optional() public noAnimation?: NzNoAnimationDirective) {\n    super(cdr, noAnimation);\n  }\n\n  show(): void {\n    if (!this.nzCondition) {\n      this.nzVisible = true;\n    } else {\n      this.onConfirm();\n    }\n  }\n\n  onCancel(): void {\n    this.nzOnCancel.emit();\n    this.nzVisible = false;\n  }\n\n  onConfirm(): void {\n    this.nzOnConfirm.emit();\n    this.nzVisible = false;\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Host,\n  Input,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef\n} from '@angular/core';\n\nimport { distinctUntilChanged } from 'rxjs/operators';\n\nimport { InputBoolean, NzNoAnimationDirective } from 'ng-zorro-antd/core';\nimport { NzTooltipDirective } from 'ng-zorro-antd/tooltip';\n\nimport { NzPopconfirmComponent } from './nz-popconfirm.component';\n\n@Directive({\n  selector: '[nz-popconfirm]',\n  exportAs: 'nzPopconfirm',\n  host: {\n    '[class.ant-popover-open]': 'isTooltipOpen'\n  }\n})\nexport class NzPopconfirmDirective extends NzTooltipDirective implements OnInit {\n  factory: ComponentFactory<NzPopconfirmComponent> = this.resolver.resolveComponentFactory(NzPopconfirmComponent);\n\n  protected needProxyProperties = [\n    'nzTitle',\n    'nzContent',\n    'nzOverlayClassName',\n    'nzOverlayStyle',\n    'nzMouseEnterDelay',\n    'nzMouseLeaveDelay',\n    'nzVisible',\n    'nzTrigger',\n    'nzPlacement',\n    'nzOkText',\n    'nzOkType',\n    'nzCancelText',\n    'nzCondition',\n    'nzIcon'\n  ];\n\n  @Input() nzOkText: string;\n  @Input() nzOkType: string;\n  @Input() nzCancelText: string;\n  @Input() nzIcon: string | TemplateRef<void>;\n  @Input() @InputBoolean() nzCondition: boolean;\n  @Output() readonly nzOnCancel = new EventEmitter<void>();\n  @Output() readonly nzOnConfirm = new EventEmitter<void>();\n\n  constructor(\n    elementRef: ElementRef,\n    hostView: ViewContainerRef,\n    resolver: ComponentFactoryResolver,\n    renderer: Renderer2,\n    @Optional() tooltip: NzPopconfirmComponent,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\n  ) {\n    super(elementRef, hostView, resolver, renderer, tooltip, noAnimation);\n  }\n\n  ngOnInit(): void {\n    if (!this.tooltip) {\n      const tooltipComponent = this.hostView.createComponent(this.factory);\n      this.tooltip = tooltipComponent.instance;\n      this.tooltip.noAnimation = this.noAnimation;\n      // Remove element when use directive https://github.com/NG-ZORRO/ng-zorro-antd/issues/1967\n      this.renderer.removeChild(\n        this.renderer.parentNode(this.elementRef.nativeElement),\n        tooltipComponent.location.nativeElement\n      );\n      this.isDynamicTooltip = true;\n      this.needProxyProperties.forEach(property => this.updateCompValue(property, this[property]));\n      const visible_ = this.tooltip.nzVisibleChange.pipe(distinctUntilChanged()).subscribe(data => {\n        this.visible = data;\n        this.nzVisibleChange.emit(data);\n      });\n      const cancel_ = (this.tooltip as NzPopconfirmComponent).nzOnCancel.subscribe(() => {\n        this.nzOnCancel.emit();\n      });\n      const confirm_ = (this.tooltip as NzPopconfirmComponent).nzOnConfirm.subscribe(() => {\n        this.nzOnConfirm.emit();\n      });\n      this.subs_.add(visible_);\n      this.subs_.add(cancel_);\n      this.subs_.add(confirm_);\n    }\n    this.tooltip.setOverlayOrigin(this);\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzAddOnModule, NzNoAnimationModule, NzOverlayModule } from 'ng-zorro-antd/core';\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzPopconfirmComponent } from './nz-popconfirm.component';\nimport { NzPopconfirmDirective } from './nz-popconfirm.directive';\n\n@NgModule({\n  declarations: [NzPopconfirmComponent, NzPopconfirmDirective],\n  exports: [NzPopconfirmComponent, NzPopconfirmDirective],\n  imports: [\n    CommonModule,\n    NzButtonModule,\n    OverlayModule,\n    NzI18nModule,\n    NzIconModule,\n    NzAddOnModule,\n    NzOverlayModule,\n    NzNoAnimationModule,\n    NzToolTipModule\n  ],\n  entryComponents: [NzPopconfirmComponent]\n})\nexport class NzPopconfirmModule {}\n"],"names":["tslib_1.__extends","tslib_1.__decorate"],"mappings":";;;;;;;;;;;;;;;;IAwC2CA,yCAAkB;IAc3D,+BAAY,GAAsB,EAA6B,WAAoC;QAAnG,YACE,kBAAM,GAAG,EAAE,WAAW,CAAC,SACxB;QAF8D,iBAAW,GAAX,WAAW,CAAyB;QAbnG,aAAO,GAAG,uBAAuB,CAAC;QAClC,cAAQ,GAAG,OAAO,CAAC;QACnB,kBAAY,GAAG,IAAI,CAAC;QAGX,cAAQ,GAAW,SAAS,CAAC;QAEb,iBAAW,GAAG,KAAK,CAAC;QAG1B,gBAAU,GAAuB,IAAI,YAAY,EAAE,CAAC;QACpD,iBAAW,GAAuB,IAAI,YAAY,EAAE,CAAC;;KAIvE;;;;IAED,oCAAI;;;IAAJ;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB;aAAM;YACL,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;KACF;;;;IAED,wCAAQ;;;IAAR;QACE,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KACxB;;;;IAED,yCAAS;;;IAAT;QACE,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;KACxB;;gBAlDF,SAAS,SAAC;oBACT,eAAe,EAAE,uBAAuB,CAAC,MAAM;oBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;oBACrC,QAAQ,EAAE,eAAe;oBACzB,QAAQ,EAAE,uBAAuB;oBACjC,mBAAmB,EAAE,KAAK;oBAC1B,UAAU,EAAE,CAAC,aAAa,CAAC;oBAC3B,uhEAA6C;6BAE3C,oEAIC;iBAEJ;;;;gBA7BC,iBAAiB;gBAWmB,sBAAsB,uBAiCrB,IAAI,YAAI,QAAQ;;;2BATpD,KAAK;2BACL,KAAK;+BACL,KAAK;8BACL,KAAK;yBACL,KAAK;6BAEL,MAAM;8BACN,MAAM;;IAJkBC;QAAf,YAAY,EAAE;;8DAAqB;IA2B/C,4BAAC;CAAA,CAnC0C,kBAAkB;;;;;;;ICFlBD,yCAAkB;IA4B3D,+BACE,UAAsB,EACtB,QAA0B,EAC1B,QAAkC,EAClC,QAAmB,EACP,OAA8B,EACf,WAAoC;QANjE,YAQE,kBAAM,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,CAAC,SACtE;QAH4B,iBAAW,GAAX,WAAW,CAAyB;QAjCjE,aAAO,GAA4C,KAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,qBAAqB,CAAC,CAAC;QAEtG,yBAAmB,GAAG;YAC9B,SAAS;YACT,WAAW;YACX,oBAAoB;YACpB,gBAAgB;YAChB,mBAAmB;YACnB,mBAAmB;YACnB,WAAW;YACX,WAAW;YACX,aAAa;YACb,UAAU;YACV,UAAU;YACV,cAAc;YACd,aAAa;YACb,QAAQ;SACT,CAAC;QAOiB,gBAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;QACtC,iBAAW,GAAG,IAAI,YAAY,EAAQ,CAAC;;KAWzD;;;;IAED,wCAAQ;;;IAAR;QAAA,iBA2BC;QA1BC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;;gBACX,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC;YACpE,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC,QAAQ,CAAC;YACzC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;;YAE5C,IAAI,CAAC,QAAQ,CAAC,WAAW,CACvB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,EACvD,gBAAgB,CAAC,QAAQ,CAAC,aAAa,CACxC,CAAC;YACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,mBAAmB,CAAC,OAAO;;;;YAAC,UAAA,QAAQ,IAAI,OAAA,KAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC,GAAA,EAAC,CAAC;;gBACvF,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,SAAS;;;;YAAC,UAAA,IAAI;gBACvF,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjC,EAAC;;gBACI,OAAO,GAAG,oBAAC,IAAI,CAAC,OAAO,IAA2B,UAAU,CAAC,SAAS;;;YAAC;gBAC3E,KAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;aACxB,EAAC;;gBACI,QAAQ,GAAG,oBAAC,IAAI,CAAC,OAAO,IAA2B,WAAW,CAAC,SAAS;;;YAAC;gBAC7E,KAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;aACzB,EAAC;YACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SAC1B;QACD,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KACrC;;gBAzEF,SAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,QAAQ,EAAE,cAAc;oBACxB,IAAI,EAAE;wBACJ,0BAA0B,EAAE,eAAe;qBAC5C;iBACF;;;;gBAzBC,UAAU;gBASV,gBAAgB;gBAXhB,wBAAwB;gBASxB,SAAS;gBAUF,qBAAqB,uBA0CzB,QAAQ;gBA7CU,sBAAsB,uBA8CxC,IAAI,YAAI,QAAQ;;;2BAdlB,KAAK;2BACL,KAAK;+BACL,KAAK;yBACL,KAAK;8BACL,KAAK;6BACL,MAAM;8BACN,MAAM;;IAFkBC;QAAf,YAAY,EAAE;;8DAAsB;IA2ChD,4BAAC;CAAA,CAnE0C,kBAAkB;;;;;;;ICjB7D;KAgBkC;;gBAhBjC,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;oBAC5D,OAAO,EAAE,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;oBACvD,OAAO,EAAE;wBACP,YAAY;wBACZ,cAAc;wBACd,aAAa;wBACb,YAAY;wBACZ,YAAY;wBACZ,aAAa;wBACb,eAAe;wBACf,mBAAmB;wBACnB,eAAe;qBAChB;oBACD,eAAe,EAAE,CAAC,qBAAqB,CAAC;iBACzC;;IACgC,yBAAC;CAhBlC;;;;"}