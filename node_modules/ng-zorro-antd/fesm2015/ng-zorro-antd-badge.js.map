{"version":3,"file":"ng-zorro-antd-badge.js","sources":["ng://ng-zorro-antd/badge/nz-badge.component.ts","ng://ng-zorro-antd/badge/nz-badge.module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ContentObserver } from '@angular/cdk/observers';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  SimpleChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { isEmpty, zoomBadgeMotion, InputBoolean } from 'ng-zorro-antd/core';\nimport { Subject } from 'rxjs';\nimport { startWith, takeUntil } from 'rxjs/operators';\n\nexport type NzBadgeStatusType = 'success' | 'processing' | 'default' | 'error' | 'warning';\n\n@Component({\n  selector: 'nz-badge',\n  exportAs: 'nzBadge',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [zoomBadgeMotion],\n  templateUrl: './nz-badge.component.html',\n  host: {\n    '[class.ant-badge-status]': 'nzStatus'\n  }\n})\nexport class NzBadgeComponent implements OnInit, AfterViewInit, OnChanges, OnDestroy {\n  private destroy$ = new Subject();\n  maxNumberArray: string[] = [];\n  countArray: number[] = [];\n  countSingleArray = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  colorArray = [\n    'pink',\n    'red',\n    'yellow',\n    'orange',\n    'cyan',\n    'green',\n    'blue',\n    'purple',\n    'geekblue',\n    'magenta',\n    'volcano',\n    'gold',\n    'lime'\n  ];\n  presetColor: string | null = null;\n  count: number;\n  @ViewChild('contentElement', { static: false }) contentElement: ElementRef;\n  @Input() @InputBoolean() nzShowZero = false;\n  @Input() @InputBoolean() nzShowDot = true;\n  @Input() @InputBoolean() nzDot = false;\n  @Input() nzOverflowCount = 99;\n  @Input() nzText: string;\n  @Input() nzColor: string;\n  @Input() nzStyle: { [key: string]: string };\n  @Input() nzStatus: NzBadgeStatusType;\n  @Input() nzCount: number | TemplateRef<void>;\n\n  checkContent(): void {\n    if (isEmpty(this.contentElement.nativeElement)) {\n      this.renderer.addClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    } else {\n      this.renderer.removeClass(this.elementRef.nativeElement, 'ant-badge-not-a-wrapper');\n    }\n  }\n\n  get showSup(): boolean {\n    return (this.nzShowDot && this.nzDot) || this.count > 0 || (this.count === 0 && this.nzShowZero);\n  }\n\n  generateMaxNumberArray(): void {\n    this.maxNumberArray = this.nzOverflowCount.toString().split('');\n  }\n\n  constructor(private renderer: Renderer2, private elementRef: ElementRef, private contentObserver: ContentObserver) {\n    renderer.addClass(elementRef.nativeElement, 'ant-badge');\n  }\n\n  ngOnInit(): void {\n    this.generateMaxNumberArray();\n  }\n\n  ngAfterViewInit(): void {\n    this.contentObserver\n      .observe(this.contentElement)\n      .pipe(\n        startWith(true),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(() => {\n        this.checkContent();\n      });\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzOverflowCount, nzCount, nzColor } = changes;\n    if (nzCount && !(nzCount.currentValue instanceof TemplateRef)) {\n      this.count = Math.max(0, nzCount.currentValue);\n      this.countArray = this.count\n        .toString()\n        .split('')\n        .map(item => +item);\n    }\n    if (nzOverflowCount) {\n      this.generateMaxNumberArray();\n    }\n    if (nzColor) {\n      this.presetColor = this.colorArray.indexOf(this.nzColor) !== -1 ? this.nzColor : null;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ObserversModule } from '@angular/cdk/observers';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\n\nimport { NzBadgeComponent } from './nz-badge.component';\n\n@NgModule({\n  declarations: [NzBadgeComponent],\n  exports: [NzBadgeComponent],\n  imports: [CommonModule, ObserversModule, NzAddOnModule]\n})\nexport class NzBadgeModule {}\n"],"names":["tslib_1.__decorate"],"mappings":"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"}